I"‰
<p>Cerca de um m&#234;s atr√°s, tive que preparar um ambiente na Locaweb, utilizando a tecnologia <a title="Cloud" href="http://en.wikipedia.org/wiki/Cloud_computing">CLOUD</a> oferecida pela <a title="Locaweb" href="http://www.locaweb.com.br">LOCAWEB</a>.</p>
<p>A computa√ß&#227;o nas nuvens √© algo recente no mundo da Inform√°tica, por√©m est√° tendo uma grande aceita√ß&#227;o perante &#224;s empresas. Uma grande vantagem √© a escabilidade que esse sistema possui.</p>
<blockquote><p>A nuvem computacional ou cloud computing consiste em compartilhar ferramentas computacionais pela interliga√ß&#227;o dos sistemas, semelhantes as nuvens no c√©u, ao inv√©s de ter essas ferramentas localmente (mesmo nos servidores internos). O uso desse modelo (ambiente) √© mais vi√°vel do que o uso de unidades f√≠sicas. [<a href="http://pt.wikipedia.org/wiki/Computa%C3%A7%C3%A3o_em_nuvem">WIKIPEDIA</a>].</p></blockquote>
<p>Bom, mas esse post n&#227;o √© para falar sobre Cloud e sim sobre um grande problema de performance que encontrei.</p>
<p>A Locaweb, possui dois Sistemas Operacionais para o Sistema de Cloud: Ubuntu e CentOS. A op√ß&#227;o foi pelo <a title="CentOS" href="http://www.centos.org/">CentOS</a>.</p>
<p>A hospedagem foi escolhida para um site simples com <a href="http://www.google.com.br/search?q=lamp&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a">LAMP</a>.</p>
<p>O problema foi que ao acessar as p√°ginas em PHP, o tempo de resposta era enorme quando comparado com o mesmo site em um ambiente compartilhado.</p>
<p>Come√ßa ent&#227;o uma verdadeira batalha para sanar o problema.</p>
<ol>
<li>Foi realizado um UPGRADE no Apache, o problema persistiu;</li>
<li>Foi realizado um UPGRADE no PHP, o problema persistiu;</li>
<li>Foi realizado um UPGRADE em todo o Sistema, o problema persistiu;</li>
</ol>
<p>Ap√≥s, diversos testes e diversas configura√ß&#245;es realizadas, como: mudan√ßa na configura√ß&#227;o da mem√≥ria do Apache e diversos outros par√¢metros o problema persistia.</p>
<p>Tamb√©m tentei resolver o problema com alguns m√≥dulos extras para agilizar na compila√ß&#227;o do c√≥digo em PHP, mas mesmo com tudo isso o problema persistia.</p>
<p>A solu√ß&#227;o encontrada para sanar o problema foi:</p>
<ol>
<li>baixar o c√≥digo fonte do apache;</li>
<li>executar: ./configure &amp;&amp; make &amp;&amp; make install</li>
</ol>
<p>Pronto! site respondendo 100 vezes mais r√°pido.</p>
<p>Conclus&#227;o</p>
<p>Acredito que exista algum problema na compila√ß&#227;o do apache distribu√≠do com o CentOS, onde em algum momento que eu n&#227;o consegui identificar, existe um "conflito" com a Virtualiza√ß&#227;o. Digo isso, pois possui v√°rios ambientes "f√≠sicos" CentOS + APACHE onde a performance √© excelente.</p>
:ET
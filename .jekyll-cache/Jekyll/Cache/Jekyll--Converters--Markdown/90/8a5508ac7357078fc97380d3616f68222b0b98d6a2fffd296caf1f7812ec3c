I"‰
<p>H√° cerca de 1 ano e pouco tive um grande problema com uma rede (WAN) Microsoft Windows. Esse problema me custou cerca de 40 horas initerr√∫ptas de trabalho :P</p>
<p>At√© descobrir que o problema foi devido a uma atualiza√ß√£o autom√°tica feita pelo Servidor e por todas as esta√ß√µes. O que ocorreu foi mais ou menos o seguinte:</p>
<p>A atualiza√ß√£o autom√°tica dos Servidores Windows 2000, estavam ativadas, com isso qualquer KB?????? era feita automaticamente. Por√©m o servidor nunca era reinicializado, devido a disponibilidade que ele garante aos servi√ßos que disponibiliza. Por√©m um belo dia ele foi reinicializado e para a surpresa toda a rede WAN, parou de funcionar.</p>
<p>Detalhe b√°sico, essa atualiza√ß√£o acabou com todos os tipos de acesso: Banco de Dados, Impressora, Arquivos compartilhados, etc. MAs at√© descobrir a causa do problema...l√° se foi um dia, uma noite e mais um dia inteiro de Servi√ßo.</p>
<p>Causa do problema descoberto, temos que descobrir uma solu√ß√£o!</p>
<p>Em contato com um amigo, que trabalha na pr√≥pria Microsoft, ele me deu algumas dicas a mais importante √©:<br />
<strong>"Nunca fa√ßa atualiza√ß√µes de KB?????? em um Servidor de Produ√ß√£o. Apenas aplique os famosos Service Pack"</strong><br />
Li√ß√£o aprendida. Por√©m, vamos levando o problema com a barriga at√© descobrir como solucionar. Mas o tempo √© curto para poder parar e descobrir uma solu√ß√£o para o mesmo.<br />
Agora finalmente, cerca de um ano depois, descobria a solu√ß√£o.<br />
A atualiza√ß√£o que ocasionava o problema era a: <a href="http://support.microsoft.com/kb/893066">KB893066</a>. Essa atualiza√ß√£o era necess√°ria devido uma falta de seguran√ßa no protocolo TCP/IP.<br />
A pr√≥pria p√°gina dessa atualiza√ß√£o possui v√°rios outros links de como solucionar o problema ocasionado por essa atualiza√ß√£o.<br />
Alguns desses links est√£o no final deste texto.<br />
A solu√ßao √© simples, por√©m nem o suporte oficial conseguiu me ajudar. :(<br />
Veja como resolver (√© necess√°rio fazer algumas altera√ß√µes no registro, CUIDADO!!!):<br />
em..<br />
<em>HKEY_LOCAL_MACHINESYSTEMCurrentControlSetServicesTcpipParameters</em><br />
cria-se uma nova chave com o nome:<br />
<em>TcpWindowSize</em> e com o valor: <strong>17520</strong><br />
Al√©m dessa chave √© necess√°rio criar uma segunda com o nome:<br />
<em>EnablePMTUBHDetect</em> com valor: <strong>1</strong></p>
<p>Feito isso tudo volta a funcionar. :D</p>
<p><strong>Links</strong></p>
<p><a href="http://support.microsoft.com/kb/893066">http://support.microsoft.com/kb/893066</a></p>
<p><a href="http://support.microsoft.com/kb/q263088/"> http://support.microsoft.com/kb/q263088/</a></p>
<p><a href="http://support.microsoft.com/kb/890345">http://support.microsoft.com/kb/890345</a></p>
:ET